---
import BaseLayout from 'layout:BaseLayout';
import IconStack from 'component:Projects/IconStack';
import Breadcrumb from 'component:UI/Breadcrumb';

const { content } = Astro.props;
const { title, description, stack, linkRepository, linkPreview } = content;
---

<BaseLayout {title} {description}>
  <section class="relative">
    <Breadcrumb title={title} option='Home' link='/'/>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 lg:grid-cols-4 lg:gap-0.5">
      <div class="lg:col-span-3">
        <h1 class="mb-6 text-3xl font-bold text-black md:text-4xl dark:text-white">{title}</h1>
        <div class="prose prose-lg dark:prose-invert">
          <slot />
        </div>
      </div>
      <div class="lg:relative col-span-1">
        <div class="w-full lg:w-[270px] lg:fixed">
          <div class="border-solid border border-gray-200 dark:border-none dark:bg-gray-700 rounded-xl px-4 py-6 mb-6 hidden lg:block">
            <a 
              class="text-black hover:text-blue-400 dark:hover:text-blue-400 dark:text-white text-xl font-bold mb-6" 
              href={linkPreview}
              target="_blank">
              👉 Live preview
            </a>
          </div>
          <div class="border-solid border border-gray-200 dark:border-none dark:bg-gray-700 rounded-xl px-4 py-6 mb-6 hidden lg:block">
            <a 
              class="text-black hover:text-blue-400 dark:hover:text-blue-400 dark:text-white text-xl font-bold mb-6 " 
              href={linkRepository} 
              target="_blank">
              👨‍💻 Repositorio
            </a>
          </div>
          <div class="border-solid border border-gray-200 dark:border-none dark:bg-gray-700 rounded-xl px-4 py-6 mb-6">
            <h1 class="text-black dark:text-white text-xl font-bold mb-6">🚀 Stack</h1>
            {
              stack.map(t => <IconStack tool={t}/>)
            }
          </div>
        </div>
      </div>
    </div>
    <div class="fixed bottom-3 right-1 cursor-pointer lg:hidden">
      <div class="bg-gray-300 dark:bg-gray-600 flex items-center justify-center h-16 w-16 rounded-full fab">
        🚀
      </div>
      <ul class="m-0 absolute bottom-16 right-0 opacity-0 fab-options">
        <li>
          <div class="bg-gray-300 dark:bg-gray-700 flex items-center justify-center h-16 w-16 rounded-full">
            <a href={linkPreview}
              target="_blank">
              <svg class="stroke-black dark:stroke-white stroke-1" height="21" viewBox="0 0 21 21" width="21" xmlns="http://www.w3.org/2000/svg">
                <g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" transform="translate(3 3)">
                  <path d="m15.5.5v5h-5" transform="matrix(1 0 0 -1 0 6)"/>
                  <path d="m12-.95v9.9" transform="matrix(.70710678 .70710678 -.70710678 .70710678 6.343146 -7.313708)"/>
                  <path d="m7.5.5h-5c-1.1045695 0-2 .8954305-2 2v10c0 1.1045695.8954305 2 2 2h11c1.1045695 0 2-.8954305 2-2v-4"/>
                </g>
              </svg>
            </a>
          </div>
        </li>
        <li>
          <div class="bg-gray-300 dark:bg-gray-700 flex items-center justify-center h-16 w-16 rounded-full">
            <a href={linkRepository} 
              target="_blank">
              <img src='/assets/svg/github.svg' alt="repository-link" width="25" height="25">
            </a>
          </div>
        </li>
      </ul>
    </div>
  </section>
</BaseLayout>